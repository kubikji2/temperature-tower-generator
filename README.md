# Temperature Tower Generator

Utility for creating customizable temperature towers for filament temperature calibration. [OpenSCAD](https://openscad.org/) is used for creating a model, [PrusaSlicer](https://www.prusa3d.com/page/prusaslicer_424/) is used to create gcode and [Python](https://www.python.org/) is used to coordinate the effort.

## Pipeline (I want to know, how it works)

1. Running `temperature-tower.py` script with available arguments:
   - `--min_temp`/`-min` minimal temperature
   - `--max_temp`/`-max` maximum temperature
   - `--ini_profile`/`-ini` path to the `*.ini` config file (see below)
   - `--step_temp`/`-step` temperature increment step (optional, default 5 Â°C)
   - `--filename`/`-fn` final gcode filename (optional, autogenerated)
   - `--filement_name`/`-flm` filament name (optional, autoextracted)
1. Python script then:
   1. runs OpenSCAD to produce `*.stl` using the provided arguments
   2. extracts the level height from the script interface using tagged echo output
   3. runs PruslaSlicer to produce `*.gcode` using provided `*.ini` config file
   4. processes generated `*.gcode` by changing the temperature at each temperature tower level
      - based on [this link](https://www.thingiverse.com/thing:2729076)
      - the `M104 S<temp>` is added after `;<leayer-height>` followed by two empty lines
   5. saves modified gcode to a new file

### Extracting the `*.ini` config file (I am not familiar with the config files)

PrusaSlicer allows exporting the current slicing settings into a `*.ini` config file; hence, we utilize this file to replicate the desired settings while changing the temperature that is overwritten by program arguments.

The `*.ini` config file can be exported using `File > Export > Export Config...` and then saving the `*.ini` config file.

## Roadmap

### Openscad - Core model

This step will be implemented in `source/floor.scad` file.

- [x] model basic slopes at two different angles with holes
- [x] add bridging segment
- [x] add stringing segment (two cones)
- [x] add curvature segment

### Openscad - Tower model

This step will be implemented in `source/tower.scad` file.

- [x] replicate floors to form a tower
- [x] add baseplate using [Q++ OpenSCAD library](https://github.com/kubikji2/qpp-openscad-library)
- [x] add text for temperatures ~~and material~~
- [x] make it easily interfacable as in [url-qr-stl](https://github.com/kubikji2/url-qr-stl)

### README.md

- [x] describe program arguments
- [x] tutorial on creating `*.ini` file export in PrusaSlicer

## NOTES

- [Slic3r command line usage](https://manual.slic3r.org/advanced/command-line)

## KNOWN ISSUES

- ISSUE: Printers with multiple extruders cause weird naming
  - SOLUTION: use argument `--filament_name` to fix that
